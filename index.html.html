<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Complaint Forms</title>
</head>
<body>
    <h1 align="center">Complaint Forms</h1><br>
    <form  action="save_data.py" method="POST">
        <!-- S.No -->
        <label for="SNo">S.No:</label><input type="search" name="query" placeholder="###"><br>
        
        <!-- Photo Upload -->
        <label for="photo">Photo Upload:</label>
        <input type="file" name="photoUpload" id="photoUpload" accept="image/*" onchange="previewImage()"><br><br>
        
        <div id="imagePreview" style="display: none;">
            <label>Image Preview:</label><br>
            <img id="preview" src="#" alt="Image Preview" style="max-width: 200px; border-radius: 6px; margin-top: 10px;">
        </div>
        
        <!-- Other fields -->
        <label for="name">Name:</label><input type="text" name="name" placeholder="Enter your Name"><br><br>
        <label for="phone">Cell:</label><input type="tel" name="phone" placeholder="Enter Phone Number"><br><br>
        <label for="city">City:</label><input type="text" name="city" placeholder="Enter city name"><br><br>
        <label for="address">Address:</label><input type="text" name="address" placeholder="Enter Address"><br><br>
        <label for="complaintDate">Complaint Date:</label><input type="date" name="complaintDate"><br><br>
        <label for="quantity">Quantity:</label><input type="number" name="quantity" min="0" max="1"><br><br>
        <label for="email">E-mail:</label><input type="email" name="email" placeholder="Enter email"><br><br>
        
        <!-- Company selection -->
        <label for="company">Company:</label>
        <input type="text" list="Search" name="company">
        <datalist id="Search">
            <option value="Haier">
            <option value="Kenwood">
            <!-- Add all other companies here -->
        </datalist><br><br>
        
        <!-- Feedback -->
        <label for="feedback">Feedback:</label><textarea name="feedback" rows="5" cols="57"></textarea><br><br>
        
        <!-- Submit and Reset Buttons -->
        <input type="submit" value="Save">
        <input type="reset" value="Cancel">
    </form>

    <script>
        // Function to preview image after uploading
        function previewImage() {
            const file = document.getElementById("photoUpload").files[0];
            const reader = new FileReader();

            reader.onloadend = function() {
                const preview = document.getElementById("preview");
                const imagePreview = document.getElementById("imagePreview");

                // Show the image preview container
                imagePreview.style.display = "block";
                // Set the source of the image to the file selected
                preview.src = reader.result;
            }

            // Only read the image if a file is selected
            if (file) {
                reader.readAsDataURL(file);
            } else {
                // Hide the image preview if no file is selected
                document.getElementById("imagePreview").style.display = "none";
            }
        }
    </script>
</body>
</html>
